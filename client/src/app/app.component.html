<!-- Full-page modal popup -->
<div class="modal" *ngIf="!isLoggedIn && showModal">
  <div class="modal-content">
    <h2>Welcome to Task Manager</h2>
    <p>Please register or log in to continue.</p>

    <div class="modal-buttons">
      <button (click)="showRegister = true; showLogin = false;">Register</button>
      <button (click)="showLogin = true; showRegister = false;">Login</button>
      <button (click)="closeModal()">Continue without logging in</button>
    </div>

    <!-- Register Form -->
    <app-register *ngIf="showRegister"></app-register>

    <!-- Login Form -->
    <app-login *ngIf="showLogin"></app-login>
  </div>
</div>

<!-- Task Manager Interface -->
<main class="main" *ngIf="isLoggedIn || !showModal">
  <div class="container">
    <h1>Task Manager</h1>

    <!-- Add Task Form -->
    <form (submit)="addTask()">
      <input
        type="text"
        [(ngModel)]="newTask"
        placeholder="Enter a new task"
        name="task"
        required
      />
      <button type="submit">Add Task</button>
    </form>

    <!-- Task List -->
    <ul class="task-list">
      <li *ngFor="let task of tasks">
        <span>{{ task.name }}</span>
        <button (click)="editTask(task)">Edit</button>
        <button (click)="deleteTask(task.id)">Delete</button>
      </li>
    </ul>

    <!-- Logout Button -->
    <button *ngIf="isLoggedIn" (click)="logout()">Logout</button>
  </div>
</main>
